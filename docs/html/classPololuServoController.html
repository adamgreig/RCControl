<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RCControl: PololuServoController Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>PololuServoController Class Reference</h1><!-- doxytag: class="PololuServoController" -->Provides an interface to the Pololu servo controller.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;pololu_servo_controller.h&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for PololuServoController:</div>
<div class="dynsection">
<p><center><img src="classPololuServoController__coll__graph.png" border="0" usemap="#PololuServoController__coll__map" alt="Collaboration graph"></center>
<map name="PololuServoController__coll__map">
<area shape="rect" href="classSerialPort.html" title="Interfaces to a serial port." alt="" coords="40,6,117,30"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classPololuServoController-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPololuServoController.html#a32eb4b165fe3eb1fb52b9adc4debd3b">PololuServoController</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise the servo controller.  <a href="#a32eb4b165fe3eb1fb52b9adc4debd3b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPololuServoController.html#383f42b874ebbc1157e95d4e905fc4ef">~PololuServoController</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On destruction, set all servos to OFF.  <a href="#383f42b874ebbc1157e95d4e905fc4ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPololuServoController.html#5dcdf049c4bb3534d00328869120031c">config</a> (unsigned short int servo, bool on=false, bool direction=false, unsigned short int range=15)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the servo configuration, and send out the values over the serial port.  <a href="#5dcdf049c4bb3534d00328869120031c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPololuServoController.html#452836edc810801d5173f2ffeca3b360">set_speed</a> (unsigned short int servo, unsigned short int speed=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the speed this servo will go to a position with.  <a href="#452836edc810801d5173f2ffeca3b360"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPololuServoController.html#bda3a4ab93c10e6196cdc9272158911c">set_neutral</a> (unsigned short int servo, unsigned short int position=3000)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the neutral position of a servo.  <a href="#bda3a4ab93c10e6196cdc9272158911c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPololuServoController.html#66f8afcbe438edf7761fdfb478bfff58">set_position_7</a> (unsigned short int servo, unsigned short int position)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set servo position, 7bit.  <a href="#66f8afcbe438edf7761fdfb478bfff58"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPololuServoController.html#1120e1bdf583fe1d9ec938e415e4a049">set_position_8</a> (unsigned short int servo, unsigned short int position)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set servo position, 8bit.  <a href="#1120e1bdf583fe1d9ec938e415e4a049"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPololuServoController.html#ec634c6d52a7a598f5b71c90a00e0f50">set_position_abs</a> (unsigned short int servo, unsigned short int position)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the servo's position absolutely, without using range or neutral values.  <a href="#ec634c6d52a7a598f5b71c90a00e0f50"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classSerialPort.html">SerialPort</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPololuServoController.html#4c984a80fd37eb4c11552816bd52e826">serial</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provides an interface to the Pololu servo controller. 
<p>
Exposes each of the Pololu commands and sends that data to the controller via a PololuSerial object. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a32eb4b165fe3eb1fb52b9adc4debd3b"></a><!-- doxytag: member="PololuServoController::PololuServoController" ref="a32eb4b165fe3eb1fb52b9adc4debd3b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PololuServoController::PololuServoController           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise the servo controller. 
<p>
Currently does nothing. 
</div>
</div><p>
<a class="anchor" name="383f42b874ebbc1157e95d4e905fc4ef"></a><!-- doxytag: member="PololuServoController::~PololuServoController" ref="383f42b874ebbc1157e95d4e905fc4ef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PololuServoController::~PololuServoController           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
On destruction, set all servos to OFF. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="5dcdf049c4bb3534d00328869120031c"></a><!-- doxytag: member="PololuServoController::config" ref="5dcdf049c4bb3534d00328869120031c" args="(unsigned short int servo, bool on=false, bool direction=false, unsigned short int range=15)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PololuServoController::config           </td>
          <td>(</td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>on</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>direction</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>range</em> = <code>15</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the servo configuration, and send out the values over the serial port. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>servo</em>&nbsp;</td><td>The servo number to configure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>on</em>&nbsp;</td><td>whether The servo should be turned on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>direction</em>&nbsp;</td><td>What direction large positions send the servo. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>range</em>&nbsp;</td><td>what The position value is multiplied by.</td></tr>
  </table>
</dl>
From the Pololu manual:<p>
* Bit 6 specifies whether a servo is on or not; a 1 turns the servo on, and a 0 (default) turns it off.<p>
* Bit 5 sets the direction the servo moves, which only applies to 7- and 8-bit position commands. If the bit is 0 (default), a larger position number causes the output pulse to get bigger; if the bit is 1, a larger position number will make the output pulse shorter.<p>
* Bits 0-4 set the range through which the servo moves in 7- and 8-bit commands. A larger value will give a larger range, and setting the range to 0 will make the servo always stay at neutral. Given the same range setting, an 8-bit command will move the servo through twice the range of a 7-bit command. The default range setting is 15, which will give approximately 180 degrees in 8-bit commands and 90 degrees in 7-bit commands. 
</div>
</div><p>
<a class="anchor" name="452836edc810801d5173f2ffeca3b360"></a><!-- doxytag: member="PololuServoController::set_speed" ref="452836edc810801d5173f2ffeca3b360" args="(unsigned short int servo, unsigned short int speed=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PololuServoController::set_speed           </td>
          <td>(</td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>speed</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the speed this servo will go to a position with. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>How fast the servo rotates to that value, 0(fast) to 127(slow)</td></tr>
  </table>
</dl>
From the Pololu manual:<p>
This command allows you to set the speed at which the servo moves. If the speed is set to 0 (default), the output pulse will instantly change to the set position. If the speed value is nonzero, the pulse changes gradually from the old position to the new position. With a speed of 1, the pulse width changes at 50 microseconds per second, up to a maximum speed of 6.35 ms per second with a speed setting of 127. 
</div>
</div><p>
<a class="anchor" name="bda3a4ab93c10e6196cdc9272158911c"></a><!-- doxytag: member="PololuServoController::set_neutral" ref="bda3a4ab93c10e6196cdc9272158911c" args="(unsigned short int servo, unsigned short int position=3000)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PololuServoController::set_neutral           </td>
          <td>(</td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>position</em> = <code>3000</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the neutral position of a servo. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>The neutral position of the servo, default 3000ms</td></tr>
  </table>
</dl>
From the Pololu manual:<p>
Setting neutral only applies to 7- and 8-bit commands. The neutral value sets the middle of a range, and corresponds to a 7-bit position value of 63.5 or an 8-bit position value of 127.5. The neutral position is an absolute position just like command 4, and setting the neutral position will move the servo to that position. The default value is 3000. It may be useful to change neutral if you change servos and need to calibrate your system, or if you cannot get your mechanical linkages to just the right lengths. 
</div>
</div><p>
<a class="anchor" name="66f8afcbe438edf7761fdfb478bfff58"></a><!-- doxytag: member="PololuServoController::set_position_7" ref="66f8afcbe438edf7761fdfb478bfff58" args="(unsigned short int servo, unsigned short int position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PololuServoController::set_position_7           </td>
          <td>(</td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>position</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set servo position, 7bit. 
<p>
Only takes 5 bytes but has less range or precision. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>Multiplied by range and adjusted for neutral, 7-bit, at range 15 this gives 90 degrees of movement.</td></tr>
  </table>
</dl>
From the Pololu manual:<p>
When this command is sent, the data value is multiplied by the range setting for the corresponding servo and adjusted for the neutral setting. This command can be useful in speeding up communications since only 5 total bytes are sent to set a position. Setting a servo position will automatically turn it on. 
</div>
</div><p>
<a class="anchor" name="1120e1bdf583fe1d9ec938e415e4a049"></a><!-- doxytag: member="PololuServoController::set_position_8" ref="1120e1bdf583fe1d9ec938e415e4a049" args="(unsigned short int servo, unsigned short int position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PololuServoController::set_position_8           </td>
          <td>(</td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>position</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set servo position, 8bit. 
<p>
Sends an extra byte of data but gives you more range or precision. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>Multiplied by range and adjusted for neutral, 8-bit, at range 15 this gives 180 degrees of movement From the Pololu manual:</td></tr>
  </table>
</dl>
This command is just like the 7-bit version, except that two data bytes must be sent to transfer 8 bits. Bit 0 of data 1 contains the most significant bit (bit 7 of your position byte), and the lower bits of data 2 contain the lower seven bits of your position byte. (Bit 7 in data bytes sent over the serial line must always be 0.) 
</div>
</div><p>
<a class="anchor" name="ec634c6d52a7a598f5b71c90a00e0f50"></a><!-- doxytag: member="PololuServoController::set_position_abs" ref="ec634c6d52a7a598f5b71c90a00e0f50" args="(unsigned short int servo, unsigned short int position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PololuServoController::set_position_abs           </td>
          <td>(</td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short int&nbsp;</td>
          <td class="paramname"> <em>position</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the servo's position absolutely, without using range or neutral values. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>The absolute position to go to, range 500 to 5500, corresponds to 250ms to 2750ms</td></tr>
  </table>
</dl>
From the Pololu manual:<p>
This command allows direct control of the internal servo position variable. Neutral, range, and direction settings do not affect this command. Data 2 contains the lower 7 bits, and Data 1 contains the upper bits. The range of valid values is 500 through 5500. Setting a servo position will automatically turn it on. 
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="4c984a80fd37eb4c11552816bd52e826"></a><!-- doxytag: member="PololuServoController::serial" ref="4c984a80fd37eb4c11552816bd52e826" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSerialPort.html">SerialPort</a>* <a class="el" href="classPololuServoController.html#4c984a80fd37eb4c11552816bd52e826">PololuServoController::serial</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="pololu__servo__controller_8h.html">pololu_servo_controller.h</a><li><a class="el" href="pololu__servo__controller_8cpp.html">pololu_servo_controller.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Apr 8 14:21:53 2009 for RCControl by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
